(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ab5e9586"],{"1f39":function(t,e,s){"use strict";var a=s("e016"),r=s.n(a);r.a},aa01:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"contain"},[s("div",{staticClass:"ch-top"},[s("div",{staticClass:"ch-top-back",on:{click:function(e){return t.goback()}}},[s("p",[t._v("取消")])]),t._m(0),s("div",{staticClass:"ch-top-ok",on:{click:function(e){return t.finish()}}},[s("p",[t._v("完成")])])]),s("div",{staticClass:"ch-img-container"},[s("div",{staticClass:"ch-img-div"},[s("img",{ref:"himg",staticClass:"ch-img",attrs:{src:t.imgurl}})]),s("div",{staticClass:"ch-img-ch"},[s("a",{on:{click:t.tohead}},[t._v("更改头像")])])]),s("div",[s("div",[s("form",{attrs:{action:""}},[s("div",{staticClass:"form-item"},[s("label",{attrs:{for:"username"}},[t._v("昵称")]),s("div",[s("input",{ref:"nickname",staticClass:"form-control",attrs:{type:"text",placeholder:"请输入昵称"}})])]),s("div",{staticClass:"form-item"},[s("label",{attrs:{for:"password"}},[t._v("密码")]),s("div",[s("input",{ref:"psd",staticClass:"form-control",attrs:{type:"password",placeholder:"请输入新密码"}})])]),s("div",{staticClass:"form-item"},[s("label",{attrs:{for:"password2"}},[t._v("确认密码")]),s("div",[s("input",{ref:"again",staticClass:"form-control",attrs:{type:"password",placeholder:"请确认新密码"}})])])])])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ch-top-mid"},[s("p",[t._v("编辑资料")])])}],i=(s("d3b7"),s("96cf"),s("a493")),n=s("76a0"),c={data:function(){return{imgurl:""}},mounted:function(){},updataed:function(){},methods:{tohead:function(){this.$router.push("/headimg")},goback:function(){this.$store.commit("changeback",{isBack:!0}),this.$router.push("/my")},finish:function(){var t,e,s,a;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(e=function(t){var e=/^[a-z0-9_-]{6,18}$/;return e.test(t)},t={username:this.$store.state.loginuser[0].username,password:this.$refs.psd.value,nickname:this.$refs.nickname.value,url:this.$refs.himg.src.substr(25)},!(t.nickname.length<3||t.nickname.length>8)){r.next=5;break}return Object(n["Toast"])({message:"昵称的长度为3-8位",duration:3e3}),r.abrupt("return",!1);case 5:if(e(t.password)){r.next=8;break}return Object(n["Toast"])({message:"密码为6-18位的字母和数字",duration:3e3}),r.abrupt("return",!1);case 8:if(this.$refs.again.value===t.password){r.next=11;break}return Object(n["Toast"])({message:"两次密码不一致",duration:3e3}),r.abrupt("return",!1);case 11:if(""!=t.url){r.next=14;break}return Object(n["Toast"])({message:"请选择头像",duration:3e3}),r.abrupt("return",!1);case 14:return r.next=16,regeneratorRuntime.awrap(Object(i["a"])("POST","/api/changeuser",t));case 16:s=r.sent,a=s.data,0==a.status&&(this.$store.commit("changeuser",{nickname:t.nickname,url:this.$refs.himg.src}),Object(n["MessageBox"])("提示","修改信息成功！"),this.$router.push({name:"my"}));case 19:case"end":return r.stop()}}),null,this)}},created:function(){void 0==this.$route.params.url?this.imgurl=this.$store.state.loginuser[0].head:this.imgurl=this.$route.params.url}},o=c,u=(s("1f39"),s("2877")),l=Object(u["a"])(o,a,r,!1,null,"6478f8ec",null);e["default"]=l.exports},e016:function(t,e,s){}}]);