(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50408c7e"],{"1ca5":function(e,t,s){},"72cc":function(e,t,s){e.exports=s.p+"static/img/logob.2dbe88bf.png"},7803:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"registercontainer"},[s("a",{staticClass:"mui-icon mui-icon-back regback",attrs:{href:"#"},on:{click:e.reggoback}}),e._m(0),s("div",{directives:[{name:"show",rawName:"v-show",value:e.cflag,expression:"cflag"}],staticClass:"regmain"},[s("ul",[s("li",{on:{click:function(t){return t.stopPropagation(),e.golog(t)}}},[s("p",{ref:"golog",staticClass:"current"},[e._v("登录")])]),s("li",{on:{click:function(t){return t.stopPropagation(),e.goreg(t)}}},[s("p",{ref:"goreg"},[e._v("注册")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.lflag,expression:"lflag"}],staticClass:"logininput"},[s("input",{ref:"username",attrs:{type:"text",placeholder:"请输入账号"}}),s("i",{staticClass:"mui-icon-extra-phone i1 "}),s("input",{ref:"password",attrs:{type:"password",placeholder:"请输入密码"}}),s("i",{staticClass:"mui-icon mui-icon-locked i2"}),s("button",{on:{click:e.login}},[e._v("登录")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.lflag,expression:"!lflag"}],staticClass:"reginput"},[s("img",{ref:"himg",staticClass:"headimg",attrs:{src:"http://47.103.222.56:8899/headimg/null.jpg"},on:{click:e.chooseimg}}),s("span",{directives:[{name:"show",rawName:"v-show",value:e.flag,expression:"flag"}],on:{click:e.chooseimg}},[e._v("点击更换")]),s("input",{ref:"name",attrs:{type:"text",placeholder:"请输入账号"}}),s("i",{staticClass:"mui-icon-extra-phone i1 "}),s("input",{ref:"psd",attrs:{type:"password",placeholder:"请输入密码"}}),s("i",{staticClass:"mui-icon mui-icon-locked i2"}),s("input",{ref:"again",attrs:{type:"password",placeholder:"重复密码"}}),s("i",{staticClass:"mui-icon mui-icon-locked i3"}),s("input",{ref:"nickname",attrs:{type:"text",placeholder:"请输入昵称"}}),s("i",{staticClass:"mui-icon-extra mui-icon-extra-peoples i4"}),s("button",{on:{click:e.postmsg}},[e._v("立即注册")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.iflag,expression:"iflag"}],staticClass:"regmainimg"},[s("div",{staticClass:"mui-scroll-wrapper"},[s("div",{staticClass:"mui-scroll"},[s("ul",e._l(e.imgurllist,(function(t){return s("li",{key:t.img_id,on:{click:function(s){return e.getimg(t.headimg_url)}}},[s("img",{attrs:{src:t.headimg_url}})])})),0)])])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logob"},[a("img",{attrs:{src:s("72cc"),alt:""}})])}],i=(s("b0c0"),s("d3b7"),s("96cf"),s("01c3")),n=s.n(i),c=s("a493"),o=s("76a0"),u={data:function(){return{flag:!0,cflag:!0,iflag:!1,imgurllist:[],lflag:!0,aaurl:""}},methods:{login:function(){var e,t,s,a;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return e={username:this.$refs.username.value,password:this.$refs.password.value},r.next=3,regeneratorRuntime.awrap(Object(c["a"])("POST","/api/login",e));case 3:t=r.sent,s=t.data,0==s.status?(a={username:s.message.username,nickname:s.message.nickname,head:s.message.headimg_url},this.$store.commit("login",a),this.$router.push("/my"),Object(o["MessageBox"])("提示","登录成功!")):Object(o["Toast"])("用户名或密码错误！请检查！");case 6:case"end":return r.stop()}}),null,this)},reggoback:function(){this.$store.commit("changeback",{isBack:!0}),this.$router.go(-1)},goreg:function(){this.lflag=!1,this.$refs.golog.removeAttribute("class","current"),this.$refs.goreg.setAttribute("class","current")},golog:function(){this.lflag=!0,this.$refs.goreg.removeAttribute("class","current"),this.$refs.golog.setAttribute("class","current")},chooseimg:function(){var e,t;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return this.flag=!1,this.cflag=!1,this.iflag=!0,s.next=5,regeneratorRuntime.awrap(Object(c["a"])("GET","/api/getheadimg"));case 5:e=s.sent,t=e.data,0==t.status&&(this.imgurllist=t.message);case 8:case"end":return s.stop()}}),null,this)},getimg:function(e){this.cflag=!0,this.iflag=!1,this.$refs.himg.setAttribute("src",e),this.aaurl=e},postmsg:function(){var e,t,s,a,r,i;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(a=function(e){var t=/^[0-9A-Za-z]{3,16}$/;return t.test(e)},s=function(e){var t=/^[a-z0-9_-]{6,18}$/;return t.test(e)},t=function(e){var t=/^[A-Za-z][0-9A-Za-z]{3,19}$/;return t.test(e)},e={name:this.$refs.name.value,password:this.$refs.psd.value,nickname:this.$refs.nickname.value,url:this.$refs.himg.src.substr(25)},t(e.name)){n.next=7;break}return Object(o["Toast"])({message:"账号的长度必须为4-20位字母和数字的组合，首字符为字母",duration:3e3}),n.abrupt("return",!1);case 7:if(s(e.password)){n.next=10;break}return Object(o["Toast"])({message:"密码为6-18位的字母和数字",duration:3e3}),n.abrupt("return",!1);case 10:if(this.$refs.again.value===e.password){n.next=13;break}return Object(o["Toast"])({message:"两次密码不一致",duration:3e3}),n.abrupt("return",!1);case 13:if(a(e.nickname)){n.next=16;break}return Object(o["Toast"])({message:"用户名为3-16位字母和数字的组合",duration:3e3}),n.abrupt("return",!1);case 16:if(""!=e.url){n.next=19;break}return Object(o["Toast"])({message:"请选择头像",duration:3e3}),n.abrupt("return",!1);case 19:return n.next=21,regeneratorRuntime.awrap(Object(c["a"])("POST","/api/register",e));case 21:r=n.sent,i=r.data,0==i.status?(Object(o["MessageBox"])("提示","注册成功!请登录"),this.lflag=!0,this.$refs.goreg.removeAttribute("class","current"),this.$refs.golog.setAttribute("class","current"),this.$refs.name.value="",this.$refs.psd.value="",this.$refs.nickname.value="",this.$refs.again.value="",this.$refs.himg.removeAttribute("src",this.aaurl),this.flag=!0):Object(o["MessageBox"])("提示","注册失败，已存在相同账号");case 24:case"end":return n.stop()}}),null,this)}},mounted:function(){n()(".mui-scroll-wrapper").scroll({deceleration:5e-4})}},l=u,g=(s("af5b"),s("2877")),m=Object(g["a"])(l,a,r,!1,null,"dec9fce4",null);t["default"]=m.exports},af5b:function(e,t,s){"use strict";var a=s("1ca5"),r=s.n(a);r.a},b0c0:function(e,t,s){var a=s("83ab"),r=s("9bf2").f,i=Function.prototype,n=i.toString,c=/^\s*function ([^ (]*)/,o="name";!a||o in i||r(i,o,{configurable:!0,get:function(){try{return n.call(this).match(c)[1]}catch(e){return""}}})}}]);